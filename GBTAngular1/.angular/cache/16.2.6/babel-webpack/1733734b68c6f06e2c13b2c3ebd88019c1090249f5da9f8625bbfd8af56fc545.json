{"ast":null,"code":"import { ProfilVM } from '../login/user';\nimport { KartaSnimiVM } from 'src/app/models/karta_snimi_model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/auth.service\";\nimport * as i2 from \"src/app/services/karta.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"src/app/services/api.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction PaymentOptionsComponent_div_24_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const stanica_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", stanica_r8.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(stanica_r8.naziv);\n  }\n}\nfunction PaymentOptionsComponent_div_24_option_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const stanica_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", stanica_r9.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(stanica_r9.naziv);\n  }\n}\nfunction PaymentOptionsComponent_div_24_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"label\", 37);\n    i0.ɵɵtext(2, \"Date of Return:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 38);\n    i0.ɵɵlistener(\"ngModelChange\", function PaymentOptionsComponent_div_24_div_24_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.selectedReturnDate = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.selectedReturnDate);\n  }\n}\nfunction PaymentOptionsComponent_div_24_div_31_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function PaymentOptionsComponent_div_24_div_31_tr_16_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const option_r13 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r14.AddDepartureTicket(option_r13.id));\n    });\n    i0.ɵɵtext(11, \"Book\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const option_r13 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(option_r13.dateOfDeparture);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(option_r13.pocetakVoznje);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(option_r13.krajVoznje);\n  }\n}\nfunction PaymentOptionsComponent_div_24_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"table\", 40)(2, \"caption\");\n    i0.ɵɵtext(3, \"List of available rides\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"thead\")(5, \"tr\")(6, \"th\", 41);\n    i0.ɵɵtext(7, \"SLIKA kompanije\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 41);\n    i0.ɵɵtext(9, \"Trajanje\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 41);\n    i0.ɵɵtext(11, \"Pocetak voznje\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 41);\n    i0.ɵɵtext(13, \"Kraj voznje\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"th\", 41);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"tbody\");\n    i0.ɵɵtemplate(16, PaymentOptionsComponent_div_24_div_31_tr_16_Template, 12, 3, \"tr\", 42);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.ticketOptions);\n  }\n}\nfunction PaymentOptionsComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 17)(2, \"div\", 18)(3, \"div\", 19)(4, \"label\", 20);\n    i0.ɵɵtext(5, \"Select Start Stanica:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"select\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function PaymentOptionsComponent_div_24_Template_select_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.selectedDestinations.start = $event);\n    })(\"change\", function PaymentOptionsComponent_div_24_Template_select_change_6_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.onStartDestinationChange());\n    });\n    i0.ɵɵelementStart(7, \"option\", 22);\n    i0.ɵɵtext(8, \"Choose a Destination Station\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, PaymentOptionsComponent_div_24_option_9_Template, 2, 2, \"option\", 23);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 19)(11, \"label\", 24);\n    i0.ɵɵtext(12, \"Select End Stanica:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"select\", 25);\n    i0.ɵɵlistener(\"ngModelChange\", function PaymentOptionsComponent_div_24_Template_select_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.selectedDestinations.end = $event);\n    });\n    i0.ɵɵelementStart(14, \"option\", 22);\n    i0.ɵɵtext(15, \"Choose a Destination Station\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, PaymentOptionsComponent_div_24_option_16_Template, 2, 2, \"option\", 23);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"div\", 18)(18, \"div\", 19)(19, \"div\", 26)(20, \"label\", 27);\n    i0.ɵɵtext(21, \"Date of Departure:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"input\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function PaymentOptionsComponent_div_24_Template_input_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.selectedDepartureDate = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(23, \"div\", 19);\n    i0.ɵɵtemplate(24, PaymentOptionsComponent_div_24_div_24_Template, 4, 1, \"div\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 30)(26, \"input\", 31);\n    i0.ɵɵlistener(\"ngModelChange\", function PaymentOptionsComponent_div_24_Template_input_ngModelChange_26_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.isOneWay = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"label\", 32);\n    i0.ɵɵtext(28, \"One Way\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function PaymentOptionsComponent_div_24_Template_button_click_29_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.searchOptions());\n    });\n    i0.ɵɵtext(30, \"Search\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(31, PaymentOptionsComponent_div_24_div_31_Template, 17, 1, \"div\", 34);\n    i0.ɵɵelementStart(32, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function PaymentOptionsComponent_div_24_Template_button_click_32_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.nextStep());\n    });\n    i0.ɵɵtext(33, \"Next\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.selectedDestinations.start);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.Startstanice);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.selectedDestinations.end);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.Endstanice);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.selectedDepartureDate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isOneWay);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.isOneWay);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.ticketOptions.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.areDestinationsSelected());\n  }\n}\nfunction PaymentOptionsComponent_div_25_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 45)(1, \"div\", 46)(2, \"h5\", 47);\n    i0.ɵɵtext(3, \"Return ticket\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"ul\", 48)(5, \"li\", 49);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"li\", 49);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"li\", 49);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 46)(12, \"div\", 30)(13, \"input\", 61);\n    i0.ɵɵlistener(\"change\", function PaymentOptionsComponent_div_25_div_21_Template_input_change_13_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r25.toggleMeal());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"label\", 51);\n    i0.ɵɵtext(15, \" Obrok \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Dolazak: \", ctx_r24.selectedDestinations.end, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Datum: \", ctx_r24.selectedDepartureDate, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Vrijeme: \", ctx_r24.selectedReturnTime, \"\");\n  }\n}\nfunction PaymentOptionsComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Step 2: Select Class and Seat Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 44)(4, \"div\", 45)(5, \"div\", 46)(6, \"h5\", 47);\n    i0.ɵɵtext(7, \"Departure ticket\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"ul\", 48)(9, \"li\", 49);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"li\", 49);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"li\", 49);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 46)(16, \"div\", 30);\n    i0.ɵɵelement(17, \"input\", 50);\n    i0.ɵɵelementStart(18, \"label\", 51);\n    i0.ɵɵtext(19, \" Obrok \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelement(20, \"div\", 52);\n    i0.ɵɵtemplate(21, PaymentOptionsComponent_div_25_div_21_Template, 16, 3, \"div\", 53);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"form\")(23, \"div\", 26)(24, \"div\", 19)(25, \"div\", 54)(26, \"button\", 55);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 56)(29, \"a\", 57);\n    i0.ɵɵlistener(\"click\", function PaymentOptionsComponent_div_25_Template_a_click_29_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.selectClass($event, \"Class A\"));\n    });\n    i0.ɵɵtext(30, \"Class A\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"a\", 57);\n    i0.ɵɵlistener(\"click\", function PaymentOptionsComponent_div_25_Template_a_click_31_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.selectClass($event, \"Class B\"));\n    });\n    i0.ɵɵtext(32, \"Class B\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"a\", 57);\n    i0.ɵɵlistener(\"click\", function PaymentOptionsComponent_div_25_Template_a_click_33_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.selectClass($event, \"Class C\"));\n    });\n    i0.ɵɵtext(34, \"Class C\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(35, \"div\", 26)(36, \"label\", 58);\n    i0.ɵɵtext(37, \"Select seat number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"input\", 59);\n    i0.ɵɵlistener(\"ngModelChange\", function PaymentOptionsComponent_div_25_Template_input_ngModelChange_38_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.selectedSeat = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(39, \"button\", 60);\n    i0.ɵɵlistener(\"click\", function PaymentOptionsComponent_div_25_Template_button_click_39_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r32 = i0.ɵɵnextContext();\n      ctx_r32.nextStep();\n      return i0.ɵɵresetView(ctx_r32.saveSeat());\n    });\n    i0.ɵɵtext(40, \"Next\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\"Odlazak: \", ctx_r1.selectedDestinations.start, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Datum: \", ctx_r1.selectedDepartureDate, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Vrijeme: \", ctx_r1.selectedDepartureTime, \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isOneWay == false);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedClass ? ctx_r1.selectedClass : \"Select Class\", \" \");\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.selectedSeat);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.isClassAndSeatSelected());\n  }\n}\nfunction PaymentOptionsComponent_div_26_form_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"form\")(1, \"div\", 26)(2, \"label\", 68);\n    i0.ɵɵtext(3, \"Ime prezime\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 69);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 26)(6, \"label\", 70);\n    i0.ɵɵtext(7, \"Broj kartice\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"input\", 71);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 26)(10, \"label\", 72);\n    i0.ɵɵtext(11, \"Datum\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"input\", 73);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 26)(14, \"label\", 74);\n    i0.ɵɵtext(15, \"CVC\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"input\", 75);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction PaymentOptionsComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Step 3: Payment Options\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 26)(4, \"div\", 30)(5, \"input\", 62);\n    i0.ɵɵlistener(\"change\", function PaymentOptionsComponent_div_26_Template_input_change_5_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.togglePayment(false));\n    })(\"ngModelChange\", function PaymentOptionsComponent_div_26_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r36 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r36.selectedPaymentMethod = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"label\", 63);\n    i0.ɵɵelement(7, \"i\", 64);\n    i0.ɵɵtext(8, \" Pla\\u0107anje gotovinom \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 30)(10, \"input\", 65);\n    i0.ɵɵlistener(\"change\", function PaymentOptionsComponent_div_26_Template_input_change_10_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.togglePayment(true));\n    })(\"ngModelChange\", function PaymentOptionsComponent_div_26_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r38 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r38.selectedPaymentMethod = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"label\", 66);\n    i0.ɵɵelement(12, \"i\", 67);\n    i0.ɵɵtext(13, \" Pla\\u0107anje karticom \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(14, PaymentOptionsComponent_div_26_form_14_Template, 17, 0, \"form\", 16);\n    i0.ɵɵelementStart(15, \"button\", 60);\n    i0.ɵɵlistener(\"click\", function PaymentOptionsComponent_div_26_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r39 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r39.nextStep());\n    });\n    i0.ɵɵtext(16, \"Next\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.selectedPaymentMethod);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.selectedPaymentMethod);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isChecked == true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.isPaymentOptionSelected());\n  }\n}\nfunction PaymentOptionsComponent_div_27_p_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r40 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Return Date: \", ctx_r40.selectedReturnDate, \"\");\n  }\n}\nfunction PaymentOptionsComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Step 4: Finish Booking\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"Summary of Booking:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, PaymentOptionsComponent_div_27_p_11_Template, 2, 1, \"p\", 16);\n    i0.ɵɵelementStart(12, \"p\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 76);\n    i0.ɵɵlistener(\"click\", function PaymentOptionsComponent_div_27_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r41 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r41.finishBooking());\n    });\n    i0.ɵɵtext(19, \"Finish Booking\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Start Destination: \", ctx_r3.selectedDestinations.start, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"End Destination: \", ctx_r3.selectedDestinations.end, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Date of Departure: \", ctx_r3.selectedDepartureDate, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.isOneWay);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Class: \", ctx_r3.selectedClass, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Seat: \", ctx_r3.selectedSeat, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Payment Option: \", ctx_r3.selectedPaymentOption, \"\");\n  }\n}\nexport let PaymentOptionsComponent = /*#__PURE__*/(() => {\n  class PaymentOptionsComponent {\n    constructor(auth, karta, router, apiService) {\n      this.auth = auth;\n      this.karta = karta;\n      this.router = router;\n      this.apiService = apiService;\n      this.currentStep = 1;\n      this.selectedDestinations = {\n        start: \"\",\n        end: \"\"\n      };\n      this.selectedDepartureDate = '';\n      this.selectedDepartureTime = '';\n      this.selectedReturnTime = '';\n      this.selectedReturnDate = '';\n      this.isOneWay = false;\n      this.ticketOptions = {};\n      this.stanice = [];\n      this.Startstanice = [];\n      this.Endstanice = [];\n      this.selectedClass = '';\n      this.selectedSeat = '';\n      this.selectedPaymentOption = '';\n      this.selectedPaymentMethod = false;\n      this.obrok = false;\n      this.isChecked = false;\n      this.user = new ProfilVM();\n      this.IsStartDestination = false;\n      // translate.setDefaultLang('de'); \n    }\n\n    ngOnInit() {\n      this.apiService.getStanice().subscribe(stanice => {\n        this.Startstanice = stanice;\n        this.Endstanice = stanice;\n      });\n    }\n    onStartDestinationChange() {\n      const startId = parseInt(this.selectedDestinations.start, 10);\n      const isStartDestination = true;\n      if (!isNaN(startId)) {\n        this.apiService.getStaniceById(startId, isStartDestination).subscribe(endStations => {\n          this.Endstanice = endStations;\n        });\n      } else {\n        this.Endstanice = [];\n      }\n    }\n    nextStep() {\n      this.currentStep++;\n    }\n    getProgressWidth() {\n      return (this.currentStep - 1) / 4 * 100 + '%';\n    }\n    selectStartDestination(event, destination) {\n      event.preventDefault();\n      this.selectedDestinations.start = destination;\n    }\n    selectEndDestination(event, destination) {\n      event.preventDefault();\n      this.selectedDestinations.end = destination;\n    }\n    selectClass(event, destination) {\n      event.preventDefault();\n      this.selectedClass = destination;\n      console.log(this.selectedClass);\n    }\n    selectSeat(event, destination) {\n      event.preventDefault();\n      this.selectedSeat = destination;\n    }\n    areDestinationsSelected() {\n      // return this.selectedDestinations.start && this.selectedDestinations.end;\n      return true;\n    }\n    isClassAndSeatSelected() {\n      return true;\n      // return this.selectedClass && this.selectedSeat;\n    }\n\n    isPaymentOptionSelected() {\n      // return this.selectedPaymentOption !== '';\n      return true;\n    }\n    finishBooking() {\n      var karta = new KartaSnimiVM();\n      karta.korisnikId = 1;\n      karta.BrojPerona = 3;\n      karta.Cijena = 10;\n      karta.DatumVoznje = this.selectedDepartureDate == '' ? new Date('01/01/2001') : new Date(this.selectedDepartureDate);\n      karta.KlasaVoznje = this.selectedClass == '' ? '1' : this.selectedClass;\n      karta.KrajVoznje = this.selectedReturnTime == '' ? '19:00' : this.selectedReturnTime;\n      karta.Obrok = this.obrok;\n      karta.Popust = true;\n      karta.PocetakVoznje = this.selectedDepartureTime == '' ? '18:00' : this.selectedDepartureTime;\n      karta.Trajanje = '3 sata';\n      this.karta.snimi(karta);\n    }\n    searchOptions() {\n      const startDestination = parseInt(this.selectedDestinations.start, 10);\n      const endDestination = parseInt(this.selectedDestinations.end, 10);\n      this.apiService.getVoznjeInfo(this.selectedDepartureDate, startDestination, endDestination).subscribe(voznje => {\n        this.ticketOptions = voznje;\n      });\n    }\n    togglePayment(check) {\n      this.isChecked = check;\n      this.selectedPaymentOption = this.isChecked == true ? \"Kartica\" : \"Gotovina\";\n    }\n    saveSeat() {\n      console.log(this.selectSeat);\n    }\n    toggleMeal() {\n      this.obrok = !this.obrok;\n    }\n    AddDepartureTicket(id) {\n      this.selectedDepartureDate = this.selectedDepartureDate.substring(0, this.selectedDepartureDate.indexOf('T'));\n      this.selectedReturnDate = this.selectedReturnDate.substring(0, this.selectedReturnDate.indexOf('T'));\n      this.selectedDepartureTime = this.ticketOptions[id].dateOfDeparture;\n      this.selectedReturnTime = this.ticketOptions[id].dateOfFinish;\n      this.nextStep();\n    }\n    static #_ = this.ɵfac = function PaymentOptionsComponent_Factory(t) {\n      return new (t || PaymentOptionsComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.KartaService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.ApiService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: PaymentOptionsComponent,\n      selectors: [[\"app-placanje\"]],\n      decls: 28,\n      vars: 6,\n      consts: [[1, \"outer\"], [1, \"navbar\", \"navbar-expand-lg\", \"navbar-dark\", \"bg-dark\"], [\"href\", \"#\", 1, \"navbar-brand\"], [\"type\", \"button\", \"data-toggle\", \"collapse\", \"data-target\", \"#navbarNav\", \"aria-controls\", \"navbarNav\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarNav\", 1, \"collapse\", \"navbar-collapse\"], [1, \"navbar-nav\"], [1, \"nav-item\", \"active\"], [\"href\", \"/home-page\", 1, \"nav-link\"], [1, \"sr-only\"], [1, \"nav-item\"], [\"href\", \"/tourist-info\", 1, \"nav-link\"], [\"href\", \"/live-tracking\", 1, \"nav-link\"], [1, \"container\"], [1, \"progress\"], [1, \"progress-bar\"], [4, \"ngIf\"], [1, \"step1\"], [1, \"row\"], [1, \"col-md-6\"], [\"for\", \"stanicaStartDropdown\"], [\"id\", \"stanicaStartDropdown\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"stanicaEndDropdown\"], [\"id\", \"stanicaEndDropdown\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\"], [\"for\", \"departureDate\"], [\"type\", \"datetime-local\", \"id\", \"departureDate\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"form-group\", 4, \"ngIf\"], [1, \"form-check\"], [\"type\", \"checkbox\", \"id\", \"oneWay\", 1, \"form-check-input\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"oneWay\", 1, \"form-check-label\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"class\", \"ticket-options\", 4, \"ngIf\"], [1, \"btn\", \"btn-primary\", 2, \"margin-left\", \"94%\", 3, \"disabled\", \"click\"], [3, \"value\"], [\"for\", \"returnDate\"], [\"type\", \"datetime-local\", \"id\", \"returnDate\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"ticket-options\"], [1, \"table\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"src\", \"../components/login/GBT.png\", \"alt\", \"Sheep\", 1, \"img-fluid\", \"img-thumbnail\"], [1, \"row\", \"space-between\"], [1, \"card\", \"col-sm-5\", \"border\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"list-group\", \"list-group-light\", \"list-group-small\"], [1, \"list-group-item\", \"px-4\"], [\"mdbCheckbox\", \"\", \"type\", \"checkbox\", \"value\", \"obrok\", \"id\", \"flexCheckDefault\", 1, \"form-check-input\"], [\"for\", \"flexCheckDefault\", 1, \"form-check-label\"], [1, \"col-sm-2\"], [\"class\", \"card col-sm-5 border\", 4, \"ngIf\"], [1, \"dropdown\"], [\"type\", \"button\", \"id\", \"endDestinationDropdown\", \"data-toggle\", \"dropdown\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"btn\", \"btn-secondary\", \"dropdown-toggle\"], [\"aria-labelledby\", \"endDestinationDropdown\", 1, \"dropdown-menu\"], [\"href\", \"#\", 1, \"dropdown-item\", 3, \"click\"], [\"for\", \"seatNumber\"], [\"type\", \"text\", \"id\", \"seatNumber\", \"placeholder\", \"XXX\", \"name\", \"selectedSeat\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [\"mdbCheckbox\", \"\", \"type\", \"checkbox\", \"id\", \"flexCheckDefault\", 1, \"form-check-input\", 3, \"change\"], [\"type\", \"radio\", \"id\", \"cash\", \"name\", \"paymentMethod\", \"value\", \"cash\", 1, \"form-check-input\", 3, \"ngModel\", \"change\", \"ngModelChange\"], [\"for\", \"cash\", 1, \"form-check-label\"], [1, \"fas\", \"fa-money-bill-wave\"], [\"type\", \"radio\", \"id\", \"card\", \"name\", \"paymentMethod\", \"value\", \"card\", 1, \"form-check-input\", 3, \"ngModel\", \"change\", \"ngModelChange\"], [\"for\", \"card\", 1, \"form-check-label\"], [1, \"fas\", \"fa-credit-card\"], [\"for\", \"imePrezime\"], [\"type\", \"email\", \"id\", \"imePrezime\", \"placeholder\", \"JohnDoe\", 1, \"form-control\"], [\"for\", \"brojKartice\"], [\"type\", \"email\", \"id\", \"brojKartice\", \"placeholder\", \"XXX\", 1, \"form-control\"], [\"for\", \"datum\"], [\"type\", \"email\", \"id\", \"datum\", \"placeholder\", \"XXX\", 1, \"form-control\"], [\"for\", \"cvc\"], [\"type\", \"password\", \"id\", \"cvc\", \"placeholder\", \"CVC\", 1, \"form-control\", \"col-2\"], [1, \"btn\", \"btn-success\", 3, \"click\"]],\n      template: function PaymentOptionsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"nav\", 1)(2, \"a\", 2);\n          i0.ɵɵtext(3, \"Get By Train\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"button\", 3);\n          i0.ɵɵelement(5, \"span\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 5)(7, \"ul\", 6)(8, \"li\", 7)(9, \"a\", 8);\n          i0.ɵɵtext(10, \"Home \");\n          i0.ɵɵelementStart(11, \"span\", 9);\n          i0.ɵɵtext(12, \"(current)\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(13, \"li\", 10)(14, \"a\", 11);\n          i0.ɵɵtext(15, \"Tourist Info\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(16, \"li\", 10)(17, \"a\", 12);\n          i0.ɵɵtext(18, \"Live tracking\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(19, \"div\", 13)(20, \"h1\");\n          i0.ɵɵtext(21, \"Ticket Booking\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"div\", 14);\n          i0.ɵɵelement(23, \"div\", 15);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(24, PaymentOptionsComponent_div_24_Template, 34, 9, \"div\", 16);\n          i0.ɵɵtemplate(25, PaymentOptionsComponent_div_25_Template, 41, 7, \"div\", 16);\n          i0.ɵɵtemplate(26, PaymentOptionsComponent_div_26_Template, 17, 4, \"div\", 16);\n          i0.ɵɵtemplate(27, PaymentOptionsComponent_div_27_Template, 20, 7, \"div\", 16);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(23);\n          i0.ɵɵstyleProp(\"width\", ctx.getProgressWidth());\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.currentStep === 1);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.currentStep === 2);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.currentStep === 3);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.currentStep === 4);\n        }\n      },\n      dependencies: [i5.NgForOf, i5.NgIf, i6.ɵNgNoValidate, i6.NgSelectOption, i6.ɵNgSelectMultipleOption, i6.DefaultValueAccessor, i6.CheckboxControlValueAccessor, i6.SelectControlValueAccessor, i6.RadioControlValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.NgModel, i6.NgForm],\n      styles: [\".outer[_ngcontent-%COMP%]{margin:0;padding:0;background-image:url(plava.c1b41deb719edc25.jpeg);background-size:cover;background-position:center;background-repeat:no-repeat;height:100vh}.step1[_ngcontent-%COMP%]{background-color:#ffffffaf;margin-top:10px;padding:10px;border-radius:1%}.row[_ngcontent-%COMP%]{padding:15px;margin:10px}table[_ngcontent-%COMP%]{background-color:transparent}.form-title[_ngcontent-%COMP%]{color:#007bff;margin-bottom:20px;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}input[type=radio][_ngcontent-%COMP%]{margin-right:10px}label[_ngcontent-%COMP%]{color:#333}.submit-button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease}.submit-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.navbar-expand[_ngcontent-%COMP%]{background-color:#2222b5}h1[_ngcontent-%COMP%]{text-align:center;margin:0 auto}\"]\n    });\n  }\n  return PaymentOptionsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}